<?
  $coverDetails = $this->record($this->driver)->getCoverDetails('result-list', 'small', $this->recordLink()->getUrl($this->driver));
  $cover = $coverDetails['html'];
  $thumbnail = false;
  $thumbnailAlignment = $this->record($this->driver)->getThumbnailAlignment('result');
  if ($cover):
    ob_start(); ?>
    <div class="hidden-xs media-<?=$thumbnailAlignment ?> <?=$this->escapeHtmlAttr($coverDetails['size'])?>">
      <?=$cover?>
    </div>
    <? $thumbnail = ob_get_contents(); ?>
  <? ob_end_clean(); ?>
<? endif; ?>

<?
  $cart = $this->cart();
  $cartId = $this->driver->getSourceIdentifier() . '|' . $this->driver->getUniqueId();
?>

<input type="hidden" value="<?=$this->escapeHtmlAttr($this->driver->getUniqueID())?>" class="hiddenId" />
<input type="hidden" value="<?=$this->escapeHtmlAttr($this->driver->getSourceIdentifier())?>" class="hiddenSource" />

<div class="media">
  <? if ($thumbnail && $thumbnailAlignment == 'left'): ?>
    <?=$thumbnail ?>
  <? endif ?>
  <div class="media-body">
    <div class="row result-body">
      <div class="col-xs-11 middle">
        <div>
          <a href="<?=$this->recordLink()->getUrl($this->driver)?>" class="title getFull truncate" data-view="<?=$this->params->getOptions()->getListViewOption() ?>">
            <?=$this->record($this->driver)->getTitleHtml()?>
          </a>
        </div>
        <div>
           <?=$this->record($this->driver)->renderTemplate('result-list-publicationDetails.phtml')?>
        </div>

        <?=$this->record($this->driver)->getFormatList() ?>
      </div>
    </div>
  </div>
  <? if ($thumbnail && $thumbnailAlignment == 'right'): ?>
    <?=$thumbnail ?>
  <? endif ?>
</div>
